title: Test Stream
type: profiling
dataset: good_input_profiles.test_stream
elasticsearch:
  index_template:
    settings:
      number_of_shards: 4
      auto_expand_replicas: "0-1"
      max_result_window: 150000
      refresh_interval: "10s"
      index:
        codec: best_compression
        sort:
          field:
            - "profiling.project.id"
            - "k8s.namespace.name"
            - "service.name"
            - "host.name"
            - "container.name"
            - "@timestamp"
          order:
            - "asc"
            - "asc"
            - "asc"
            - "asc"
            - "asc"
            - "desc"
    mappings:
      dynamic: false
      dynamic_date_formats:
        - "strict_date_optional_time_nanos||epoch_second"
