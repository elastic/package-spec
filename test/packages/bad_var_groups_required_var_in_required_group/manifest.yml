format_version: 3.6.0
name: bad_var_groups_required_var_in_required_group
title: Bad Var Groups - Required Var in Required Group
description: This package has a var with required:true inside a required var_group.
version: 0.0.1
type: integration
source:
  license: "Apache-2.0"
conditions:
  kibana:
    version: '^8.10.0'
  elastic:
    subscription: 'basic'
  agent:
    version: '^9.1.0'
vars:
  - name: access_key_id
    type: text
    title: Access Key ID
    show_user: true
    secret: false
    # This var has required: true which is invalid in a required var_group
    required: true
  - name: secret_access_key
    type: password
    title: Secret Access Key
    show_user: true
    secret: true
var_groups:
  - name: credential_type
    title: Setup Access
    selector_title: Preferred method
    description: Select how to authenticate.
    # var_group is required, so vars should NOT have required: true
    required: true
    options:
      - name: direct_access_key
        title: Direct Access Keys
        vars:
          - access_key_id
          - secret_access_key
policy_templates:
  - name: sample
    title: Sample
    description: Sample policy template
    inputs:
      - type: httpjson
        title: Collect via API
        description: Collecting data
        multi: false
owner:
  github: elastic/ecosystem
  type: elastic
screenshots:
  - src: /img/sample-screenshot.png
    title: Sample screenshot
    size: 600x600
    type: image/png
icons:
  - src: /img/sample-logo.svg
    title: Sample logo
    size: 32x32
    type: image/svg+xml
